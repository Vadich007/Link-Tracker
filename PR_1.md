# Чек лист

## Функциональные требования

1. [x] Бот должен поддерживать следующие команды:
   - [x] /start - регистрация пользователя.
   - [x] /help - вывод списка доступных команд.
   - [x] /track - начать отслеживание ссылки.
   - [x] /untrack - прекратить отслеживание ссылки.
   - [x] /list - показать список отслеживаемых ссылок (cписок ссылок, полученных при /track)

- [x] Команда /list должна выводить специальное сообщение, если список отслеживаемых ссылок пуст.
- [x] Неизвестные команды должны игнорироваться с уведомлением пользователю.
- [x] При попытке добавить ссылку, которая уже отслеживается, выводится сообщение:
  "Ссылка уже отслеживается"
- [x] Все endpoint'ы соответствуют OpenAPI-контракту
  Разрешено модифицировать LinkUpdate в Bot API для расширения и добавления новой информации (для упрощения
  форматирования)
  Ссылка на контракт OpenAPI: https://gist.github.com/sanyarnd/e35dc3d4e0c8000205ec5029dac38f5a (2 файла)
- [x] Реализован базовый планировщик: бот присылает простейшее уведомление (заглушку) в случае обнаружения изменений  
  Для Java -- @Scheduled, для Go -- gocron, для Scala -- Scheduler/quartz4s
- [x] Достаточно факта уведомления, пока нет требования писать с детализацией, например "обновление в комментарии от
  пользователя Х по ссылке Y"
- [x] В следующем ДЗ планировщик должен учитывать факт, что пользователь не один, а пока вы можете реализовать самую
  простую версию
- [x] Общение между приложениями bot и scrapper происходит по HTTP

# Нефункциональные требования

-[x] Токен авторизации должен храниться в конфигурационном файле, недоступном для общего доступа
-[x] Запрещено подключать дополнительные библиотеки в шаблон, по вопросам пишите в чат курса

1. [x] Поддерживается скреппинг вопросов StackOverflow и репозиториев GitHub -- вам нужно написать HTTP-клиентов для
   получения необходимой информации из API
   -[x] Для текущей версии задания достаточно факта, что появились обновления, без детализации, что именно было
   обновлено, т.е. достаточно использовать факт изменения поля, отвечающего за дату последнего изменения (lastUpdated
   и т.п.)
   -[x] Не нужно парсить страницу (HTML), нужно работать с API: GitHub, StackOverflow
2. [x] Запрещается использовать готовые SDK для доступа к API для HTTP-клиентов (GitHub, StackOverflow):
   -[x] Клиентов нужно написать руками
   -[x] По возможности используйте декларативные клиенты

-[x] Бот должен реализовывать концепт машины состояний (создание /track должно идти в формате диалога, а не команды):
-[x] В тестах запрещено делать реальные вызовы к API внешних систем, нужно использовать заглушки (mocks)
-[x] Используйте типобезопасную конфигурацию
-[x] Используйте структурное логирование (добавление key-value значений к логу, вместо зашивания данных в поле message)
в коде приложения

# Обязательные тесты

- [x] Корректный парсинг ссылок
- [x] Правильное сохранение данных в репозиторий из запроса пользователя: ссылка, тэги, фильтры
- [x] Бот кидает ошибку, если команда неизвестна
- [x] Тесты на happy path: добавление и удаление ссылок из репозитория
- [x] Тест на добавление дубля ссылки
- [ ] Тесты для планировщика: обновление отправляется только пользователям, которые следят за ссылкой
- [x] Тесты на корректную обработку ошибок HTTP-запросов (некорректное тело, код) в клиентах
- [x] Проверка форматирования команды /list

# Бонусные задания

+20 бонусов за автоматическую реализацию меню команд бота (см API), т.е. ваш бот должен регистировать доступные команды
через метод setmycommands при запуске
